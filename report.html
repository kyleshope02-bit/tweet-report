<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Twitter Stock Dashboard</title>

<style>
body{font-family:Arial;background:#f4f6f8;margin:12px;font-size:16px}
h2{margin:0 0 10px 0;font-size:26px}
h3{margin:10px 0;font-size:18px}
.muted{color:#666;font-size:12px}
.card{background:#fff;border-radius:10px;padding:12px;margin-bottom:12px;box-shadow:0 2px 4px rgba(0,0,0,.1)}
table{width:100%;border-collapse:collapse}
th{background:#263238;color:#fff;padding:8px;font-size:13px;position:sticky;top:0;cursor:pointer;user-select:none}
th.sort-asc::after{content:" ▲";font-size:11px}
th.sort-desc::after{content:" ▼";font-size:11px}
td{padding:7px;border-bottom:1px solid #ddd;font-size:13px;text-align:center;vertical-align:top}
tr:nth-child(even){background:#f1f5f8}
tr:hover{background:#dde7f2}
.pos{color:#1b5e20;font-weight:700}
.neg{color:#b71c1c;font-weight:700}
.badge{padding:3px 8px;border-radius:12px;font-weight:700;font-size:12px;display:inline-block}
.buy{background:#c8e6c9}
.sell{background:#ffcdd2}
.mixed{background:#fff3cd}
.neutral{background:#eceff1}
td.textcell{text-align:left}
td.namecell{text-align:left;max-width:260px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
td.indcell{text-align:left;max-width:220px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
td.seccell{text-align:left;max-width:220px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.tabs{display:flex;gap:8px;margin:10px 0}
.tabbtn{border:0;border-radius:999px;padding:8px 12px;cursor:pointer;font-weight:800}
.tabbtn.on{background:#263238;color:#fff}
.tabbtn.off{background:#eceff1;color:#263238}
.hidden{display:none}
.smallnote{font-size:12px;color:#666}
.filterrow th{background:#1f2a30;color:#fff;padding:6px;cursor:default}
.filter{width:100%;box-sizing:border-box;border:1px solid #cfd8dc;border-radius:6px;padding:6px;font-size:12px}
select.filter{padding:5px}
.clearbtn{border:0;border-radius:10px;padding:8px 10px;cursor:pointer;font-weight:800;background:#eceff1}
.clearbtn:hover{background:#dde7f2}
</style>

</head>
<body>
<h2>Twitter Stock Dashboard</h2>
<div class="muted">Updated 2026-01-27 09:13 AM • Cache hits 2, fetched 59 (TTL 24h, cap 60/run)</div>
<div class="tabs">
  <button id="btn-buys" class="tabbtn on" onclick="showTab('buys')">Buys (7)</button>
  <button id="btn-sells" class="tabbtn off" onclick="showTab('sells')">Sells (2)</button>
</div>

<div id="tab-buys">
  
<div class="card">
  <h3>Buys — ALL Price &amp; Volume Windows Green</h3>
  <div style="display:flex;gap:8px;align-items:center;margin:6px 0 10px 0;">
    <button class="clearbtn" onclick="clearFilters('tbl-buys')">Clear filters</button>
    <span class="smallnote">Click headers to sort. Filters accept &gt;0, &lt;0, &gt;=1.5. Sizes: &gt;1M, &gt;10B.</span>
  </div>

  <table id="tbl-buys" data-filter-table="1">
    <thead>
      <tr>
        <th data-sort="text">Ticker</th>
        <th data-sort="num">SCTR</th>
        <th data-sort="num">Tot</th>
        <th data-sort="num">B</th>
        <th data-sort="num">N</th>
        <th data-sort="num">S</th>

        <th data-sort="num">1D</th>
        <th data-sort="num">3D</th>
        <th data-sort="num">5D</th>
        <th data-sort="num">10D</th>

        <th data-sort="size">Vol</th>
        <th data-sort="num">V1D</th>
        <th data-sort="num">V3D</th>
        <th data-sort="num">V5D</th>
        <th data-sort="num">V10D</th>

        <th data-sort="size">Mkt Cap</th>
        <th data-sort="text">Name</th>
        <th data-sort="text">Industry</th>
        <th data-sort="text">Sector</th>
      </tr>

      <tr class="filterrow">
        <th><input class="filter" placeholder="$BE" oninput="applyFilters('tbl-buys')"></th>
        <th><input class="filter" placeholder=">70" oninput="applyFilters('tbl-buys')"></th>
        <th><input class="filter" placeholder=">=1" oninput="applyFilters('tbl-buys')"></th>
        <th><input class="filter" placeholder=">=0" oninput="applyFilters('tbl-buys')"></th>
        <th><input class="filter" placeholder="" oninput="applyFilters('tbl-buys')"></th>
        <th><input class="filter" placeholder="" oninput="applyFilters('tbl-buys')"></th>

        <th><input class="filter" placeholder=">0" oninput="applyFilters('tbl-buys')"></th>
        <th><input class="filter" placeholder=">0" oninput="applyFilters('tbl-buys')"></th>
        <th><input class="filter" placeholder=">0" oninput="applyFilters('tbl-buys')"></th>
        <th><input class="filter" placeholder=">0" oninput="applyFilters('tbl-buys')"></th>

        <th><input class="filter" placeholder=">1M" oninput="applyFilters('tbl-buys')"></th>
        <th><input class="filter" placeholder=">0" oninput="applyFilters('tbl-buys')"></th>
        <th><input class="filter" placeholder=">0" oninput="applyFilters('tbl-buys')"></th>
        <th><input class="filter" placeholder=">0" oninput="applyFilters('tbl-buys')"></th>
        <th><input class="filter" placeholder=">0" oninput="applyFilters('tbl-buys')"></th>

        <th><input class="filter" placeholder=">10B" oninput="applyFilters('tbl-buys')"></th>
        <th><input class="filter" placeholder="Bloom" oninput="applyFilters('tbl-buys')"></th>
        <th><input class="filter" placeholder="" oninput="applyFilters('tbl-buys')"></th>
        <th><input class="filter" placeholder="" oninput="applyFilters('tbl-buys')"></th>
      </tr>
    </thead>
    <tbody>
<tr><td>$AG</td><td>99.2</td><td>0</td><td>0</td><td>0</td><td>0</td><td class='pos'>1.10%</td><td class='pos'>15.86%</td><td class='pos'>19.63%</td><td class='pos'>36.01%</td><td>51.37M</td><td class='pos'>80.14%</td><td class='pos'>52.26%</td><td class='pos'>55.33%</td><td class='pos'>134.16%</td><td>—</td><td class='namecell'>First Majestic Silver Corp.</td><td class='indcell'>Materials</td><td class='seccell'>Gold Mining</td></tr>
<tr><td>$STX</td><td>98.4</td><td>5</td><td>3</td><td>2</td><td>0</td><td class='pos'>3.52%</td><td class='pos'>4.09%</td><td class='pos'>9.83%</td><td class='pos'>17.85%</td><td>5.04M</td><td class='pos'>70.36%</td><td class='pos'>6.97%</td><td class='pos'>49.15%</td><td class='pos'>58.11%</td><td>—</td><td class='namecell'>Seagate Technology Holdings, Inc.</td><td class='indcell'>Technology</td><td class='seccell'>Computer Hardware</td></tr>
<tr><td>$PAAS</td><td>97.9</td><td>0</td><td>0</td><td>0</td><td>0</td><td class='pos'>0.50%</td><td class='pos'>13.30%</td><td class='pos'>17.43%</td><td class='pos'>19.44%</td><td>16.02M</td><td class='pos'>38.22%</td><td class='pos'>34.58%</td><td class='pos'>102.91%</td><td class='pos'>209.27%</td><td>—</td><td class='namecell'>Pan American Silver Corp.</td><td class='indcell'>Materials</td><td class='seccell'>Gold Mining</td></tr>
<tr><td>$AU</td><td>97.2</td><td>0</td><td>0</td><td>0</td><td>0</td><td class='pos'>1.72%</td><td class='pos'>6.64%</td><td class='pos'>9.15%</td><td class='pos'>17.17%</td><td>5.07M</td><td class='pos'>43.37%</td><td class='pos'>27.37%</td><td class='pos'>101.52%</td><td class='pos'>188.38%</td><td>—</td><td class='namecell'>Anglogold Ashanti Ltd.</td><td class='indcell'>Materials</td><td class='seccell'>Gold Mining</td></tr>
<tr><td>$TEVA</td><td>94.9</td><td>0</td><td>0</td><td>0</td><td>0</td><td class='pos'>1.04%</td><td class='pos'>2.32%</td><td class='pos'>1.20%</td><td class='pos'>0.41%</td><td>12.17M</td><td class='pos'>125.24%</td><td class='pos'>79.34%</td><td class='pos'>68.49%</td><td class='pos'>27.07%</td><td>—</td><td class='namecell'>Teva Pharmaceutical Industries Ltd.</td><td class='indcell'>Health Care</td><td class='seccell'>Pharmaceuticals</td></tr>
<tr><td>$AEM</td><td>94.7</td><td>0</td><td>0</td><td>0</td><td>0</td><td class='pos'>0.41%</td><td class='pos'>4.90%</td><td class='pos'>9.08%</td><td class='pos'>12.70%</td><td>3.81M</td><td class='pos'>46.70%</td><td class='pos'>6.13%</td><td class='pos'>76.59%</td><td class='pos'>47.64%</td><td>—</td><td class='namecell'>Agnico Eagle Mines Ltd.</td><td class='indcell'>Materials</td><td class='seccell'>Gold Mining</td></tr>
<tr><td>$WPM</td><td>94.1</td><td>0</td><td>0</td><td>0</td><td>0</td><td class='pos'>1.16%</td><td class='pos'>7.45%</td><td class='pos'>9.24%</td><td class='pos'>18.53%</td><td>4.05M</td><td class='pos'>82.47%</td><td class='pos'>51.30%</td><td class='pos'>67.25%</td><td class='pos'>114.09%</td><td>—</td><td class='namecell'>Wheaton Precious Metals Corp.</td><td class='indcell'>Materials</td><td class='seccell'>Nonferrous Metals</td></tr>
</tbody></table></div>
  
<div class="card">
  <h3>Tweets (Buy tickers only)</h3>
  <div style="display:flex;gap:8px;align-items:center;margin:6px 0 10px 0;">
    <button class="clearbtn" onclick="clearFilters('tbl-buy-tweets')">Clear filters</button>
    <span class="smallnote">Click headers to sort.</span>
  </div>

  <table id="tbl-buy-tweets" data-filter-table="1">
    <thead>
      <tr>
        <th data-sort="text">Author</th>
        <th data-sort="text">Signal</th>
        <th data-sort="text">Time</th>
        <th data-sort="text">Ticker</th>
        <th data-sort="text">Text</th>
        <th data-sort="text">Link</th>
      </tr>
      <tr class="filterrow">
        <th><input class="filter" placeholder="@handle" oninput="applyFilters('tbl-buy-tweets')"></th>
        <th>
          <select class="filter" onchange="applyFilters('tbl-buy-tweets')">
            <option value="">All</option>
            <option>BUY</option><option>SELL</option><option>NEUTRAL</option><option>MIXED</option>
          </select>
        </th>
        <th><input class="filter" placeholder="Jan 15" oninput="applyFilters('tbl-buy-tweets')"></th>
        <th><input class="filter" placeholder="$TSLA" oninput="applyFilters('tbl-buy-tweets')"></th>
        <th><input class="filter" placeholder="contains…" oninput="applyFilters('tbl-buy-tweets')"></th>
        <th><input class="filter" placeholder="Open" oninput="applyFilters('tbl-buy-tweets')"></th>
      </tr>
    </thead>
    <tbody>
<tr><td>@SRxTrades</td><td><span class='badge buy'>BUY</span></td><td>Jan 27, 2026 09:08 AM</td><td>$STX</td><td class='textcell'>Data storage theme 

Continuing much higher out of their big weekly bases

Nothing new happens in the market... the best stocks keep going higher even when they seem &quot;extended&quot;

This is why we focus on the best stocks and not laggards

$MU
$SNDK
$WDC
$STX
Data storage theme

Continuing to push higher out of the big weekly bases

The best stocks can keep going up as long as trend is in tact

Since this post:

$MU +42% 
$SNDK +62%
$WDC +31%
$STX +23%  x.com/SRxTrades/stat…</td><td><a href='https://x.com/SRxTrades/status/2015557031248228818' target='_blank'>Open</a></td></tr>
<tr><td>@1ChartMaster</td><td><span class='badge buy'>BUY</span></td><td>Jan 23, 2026 08:59 AM</td><td>$STX</td><td class='textcell'>$WDC &amp; $STX relative strength yesterday, new highs today.</td><td><a href='https://x.com/1ChartMaster/status/2014021587708604527' target='_blank'>Open</a></td></tr>
<tr><td>@1ChartMaster</td><td><span class='badge buy'>BUY</span></td><td>Jan 22, 2026 08:33 AM</td><td>$STX</td><td class='textcell'>$SNDK $STX $WDC $MU All gapping to new highs so far this morning. The strength in memory stocks continues to impress.</td><td><a href='https://x.com/1ChartMaster/status/2014267592114844090' target='_blank'>Open</a></td></tr>
<tr><td>@1ChartMaster</td><td><span class='badge neutral'>NEUTRAL</span></td><td>Jan 22, 2026 08:33 AM</td><td>$STX</td><td class='textcell'>$STX another one that loves riding the 8 week.</td><td><a href='https://x.com/1ChartMaster/status/2014072784633077916' target='_blank'>Open</a></td></tr>
<tr><td>@1ChartMaster</td><td><span class='badge mixed'>MIXED</span></td><td>Jan 19, 2026 03:28 PM</td><td>$STX</td><td class='textcell'>$STX before and after. Now 100+% higher.  Many have trouble with the buy high and sell higher concept. I personally love it.</td><td><a href='https://x.com/1ChartMaster/status/2012862854370640162' target='_blank'>Open</a></td></tr>
</tbody></table></div>
</div>

<div id="tab-sells" class="hidden">
  
<div class="card">
  <h3>Sells — ALL Price &amp; Volume Windows Red</h3>
  <div style="display:flex;gap:8px;align-items:center;margin:6px 0 10px 0;">
    <button class="clearbtn" onclick="clearFilters('tbl-sells')">Clear filters</button>
    <span class="smallnote">Click headers to sort. Filters accept &gt;0, &lt;0, &gt;=1.5. Sizes: &gt;1M, &gt;10B.</span>
  </div>

  <table id="tbl-sells" data-filter-table="1">
    <thead>
      <tr>
        <th data-sort="text">Ticker</th>
        <th data-sort="num">SCTR</th>
        <th data-sort="num">Tot</th>
        <th data-sort="num">B</th>
        <th data-sort="num">N</th>
        <th data-sort="num">S</th>

        <th data-sort="num">1D</th>
        <th data-sort="num">3D</th>
        <th data-sort="num">5D</th>
        <th data-sort="num">10D</th>

        <th data-sort="size">Vol</th>
        <th data-sort="num">V1D</th>
        <th data-sort="num">V3D</th>
        <th data-sort="num">V5D</th>
        <th data-sort="num">V10D</th>

        <th data-sort="size">Mkt Cap</th>
        <th data-sort="text">Name</th>
        <th data-sort="text">Industry</th>
        <th data-sort="text">Sector</th>
      </tr>

      <tr class="filterrow">
        <th><input class="filter" placeholder="$BE" oninput="applyFilters('tbl-sells')"></th>
        <th><input class="filter" placeholder=">70" oninput="applyFilters('tbl-sells')"></th>
        <th><input class="filter" placeholder=">=1" oninput="applyFilters('tbl-sells')"></th>
        <th><input class="filter" placeholder=">=0" oninput="applyFilters('tbl-sells')"></th>
        <th><input class="filter" placeholder="" oninput="applyFilters('tbl-sells')"></th>
        <th><input class="filter" placeholder="" oninput="applyFilters('tbl-sells')"></th>

        <th><input class="filter" placeholder=">0" oninput="applyFilters('tbl-sells')"></th>
        <th><input class="filter" placeholder=">0" oninput="applyFilters('tbl-sells')"></th>
        <th><input class="filter" placeholder=">0" oninput="applyFilters('tbl-sells')"></th>
        <th><input class="filter" placeholder=">0" oninput="applyFilters('tbl-sells')"></th>

        <th><input class="filter" placeholder=">1M" oninput="applyFilters('tbl-sells')"></th>
        <th><input class="filter" placeholder=">0" oninput="applyFilters('tbl-sells')"></th>
        <th><input class="filter" placeholder=">0" oninput="applyFilters('tbl-sells')"></th>
        <th><input class="filter" placeholder=">0" oninput="applyFilters('tbl-sells')"></th>
        <th><input class="filter" placeholder=">0" oninput="applyFilters('tbl-sells')"></th>

        <th><input class="filter" placeholder=">10B" oninput="applyFilters('tbl-sells')"></th>
        <th><input class="filter" placeholder="Bloom" oninput="applyFilters('tbl-sells')"></th>
        <th><input class="filter" placeholder="" oninput="applyFilters('tbl-sells')"></th>
        <th><input class="filter" placeholder="" oninput="applyFilters('tbl-sells')"></th>
      </tr>
    </thead>
    <tbody>
<tr><td>$WBD</td><td>95.5</td><td>0</td><td>0</td><td>0</td><td>0</td><td class='neg'>-1.19%</td><td class='neg'>-1.02%</td><td class='neg'>-1.19%</td><td class='neg'>-2.23%</td><td>18.89M</td><td class='neg'>-1.54%</td><td class='neg'>-14.53%</td><td class='neg'>-30.75%</td><td class='neg'>-49.98%</td><td>—</td><td class='namecell'>Warner Bros. Discovery Inc.</td><td class='indcell'>Communication Services</td><td class='seccell'>Entertainment</td></tr>
<tr><td>$RKLB</td><td>94.8</td><td>3</td><td>1</td><td>2</td><td>0</td><td class='neg'>-9.47%</td><td class='neg'>-8.36%</td><td class='neg'>-16.43%</td><td class='neg'>-5.15%</td><td>21.66M</td><td class='neg'>-11.16%</td><td class='neg'>-29.07%</td><td class='neg'>-40.01%</td><td class='neg'>-8.92%</td><td>—</td><td class='namecell'>Rocket Lab USA, Inc.</td><td class='indcell'>Industrial</td><td class='seccell'>Aerospace</td></tr>
</tbody></table></div>
  
<div class="card">
  <h3>Tweets (Sell tickers only)</h3>
  <div style="display:flex;gap:8px;align-items:center;margin:6px 0 10px 0;">
    <button class="clearbtn" onclick="clearFilters('tbl-sell-tweets')">Clear filters</button>
    <span class="smallnote">Click headers to sort.</span>
  </div>

  <table id="tbl-sell-tweets" data-filter-table="1">
    <thead>
      <tr>
        <th data-sort="text">Author</th>
        <th data-sort="text">Signal</th>
        <th data-sort="text">Time</th>
        <th data-sort="text">Ticker</th>
        <th data-sort="text">Text</th>
        <th data-sort="text">Link</th>
      </tr>
      <tr class="filterrow">
        <th><input class="filter" placeholder="@handle" oninput="applyFilters('tbl-sell-tweets')"></th>
        <th>
          <select class="filter" onchange="applyFilters('tbl-sell-tweets')">
            <option value="">All</option>
            <option>BUY</option><option>SELL</option><option>NEUTRAL</option><option>MIXED</option>
          </select>
        </th>
        <th><input class="filter" placeholder="Jan 15" oninput="applyFilters('tbl-sell-tweets')"></th>
        <th><input class="filter" placeholder="$TSLA" oninput="applyFilters('tbl-sell-tweets')"></th>
        <th><input class="filter" placeholder="contains…" oninput="applyFilters('tbl-sell-tweets')"></th>
        <th><input class="filter" placeholder="Open" oninput="applyFilters('tbl-sell-tweets')"></th>
      </tr>
    </thead>
    <tbody>
<tr><td>@Mr_Derivatives</td><td><span class='badge buy'>BUY</span></td><td>Jan 22, 2026 08:33 AM</td><td>$RKLB</td><td class='textcell'>$RKLB Clean lines here.

Would you buy here though...?</td><td><a href='https://x.com/Mr_Derivatives/status/2012377599071473916' target='_blank'>Open</a></td></tr>
<tr><td>@Mr_Derivatives</td><td><span class='badge neutral'>NEUTRAL</span></td><td>Jan 19, 2026 03:28 PM</td><td>$RKLB</td><td class='textcell'>$ASTS Similar looking chart to $RKLB. 

Still some wiggle room to wiggle up to $125-$130 to test that upper blue line. Then see what it does there.</td><td><a href='https://x.com/Mr_Derivatives/status/2012732444601147877' target='_blank'>Open</a></td></tr>
<tr><td>@Mr_Derivatives</td><td><span class='badge mixed'>MIXED</span></td><td>Jan 18, 2026 11:13 AM</td><td>$RKLB</td><td class='textcell'>$RKLB When I was young and dumb.

Should have just held it!!
If you love ASTS, you have got to love RKLB here. 

$ASTS went up 20x from it&#x27;s lows.

$RKLB is &quot;only&quot; up 3x from it&#x27;s lows.

I think we see $11-$11.25 near term off potential breakout from this bull flag. Still got a lot of momentum in this name.</td><td><a href='https://x.com/Mr_Derivatives/status/2012519697258831924' target='_blank'>Open</a></td></tr>
</tbody></table></div>
</div>


<script>
function parseNumberLike(s){
  if(!s) return null;
  s=(""+s).trim().toUpperCase();
  if(s==="—") return null;
  if(s.endsWith("%")) s=s.slice(0,-1);
  let mult=1;
  if(s.endsWith("T")){mult=1e12;s=s.slice(0,-1);}
  else if(s.endsWith("B")){mult=1e9;s=s.slice(0,-1);}
  else if(s.endsWith("M")){mult=1e6;s=s.slice(0,-1);}
  else if(s.endsWith("K")){mult=1e3;s=s.slice(0,-1);}
  s=s.replace(/,/g,"");
  let v=parseFloat(s);
  if(isNaN(v)) return null;
  return v*mult;
}

function matchComparator(cellText, filterText){
  let ft=(filterText||"").trim();
  if(!ft) return true;
  const m=ft.match(/^(>=|<=|>|<|=)\s*([-\d.,]+%?|[-\d.]+[KMBT]?)$/i);
  if(!m){
    return (cellText||"").toLowerCase().includes(ft.toLowerCase());
  }
  const op=m[1];
  const right=parseNumberLike(m[2]);
  const left=parseNumberLike(cellText);
  if(left===null||right===null) return false;
  if(op===">") return left>right;
  if(op===">=") return left>=right;
  if(op==="<") return left<right;
  if(op==="<=") return left<=right;
  if(op==="=") return left===right;
  return false;
}

function applyFilters(tableId){
  const table=document.getElementById(tableId);
  if(!table) return;
  const filters=table.querySelectorAll("thead .filterrow .filter");
  const rows=table.querySelectorAll("tbody tr");
  rows.forEach(tr=>{
    const tds=tr.querySelectorAll("td");
    let ok=true;
    for(let i=0;i<filters.length;i++){
      const f=filters[i];
      const val=(f.value||"").trim();
      if(!val) continue;
      let cellText=(tds[i]?tds[i].textContent:"").trim();
      if(f.tagName==="SELECT"){
        if(val && cellText.toUpperCase()!==val.toUpperCase()){ok=false;break;}
      } else {
        if(!matchComparator(cellText,val)){ok=false;break;}
      }
    }
    tr.style.display=ok?"":"none";
  });
}

function clearFilters(tableId){
  const table=document.getElementById(tableId);
  if(!table) return;
  table.querySelectorAll("thead .filterrow .filter").forEach(el=>{
    if(el.tagName==="SELECT") el.selectedIndex=0;
    else el.value="";
  });
  applyFilters(tableId);
}

function showTab(which){
  const buys=document.getElementById("tab-buys");
  const sells=document.getElementById("tab-sells");
  const bbtn=document.getElementById("btn-buys");
  const sbtn=document.getElementById("btn-sells");
  if(which==="sells"){
    buys.classList.add("hidden"); sells.classList.remove("hidden");
    bbtn.classList.remove("on"); bbtn.classList.add("off");
    sbtn.classList.remove("off"); sbtn.classList.add("on");
  } else {
    sells.classList.add("hidden"); buys.classList.remove("hidden");
    sbtn.classList.remove("on"); sbtn.classList.add("off");
    bbtn.classList.remove("off"); bbtn.classList.add("on");
  }
}

function clearSortIndicators(table){
  table.querySelectorAll("th.sort-asc, th.sort-desc").forEach(th=>{
    th.classList.remove("sort-asc"); th.classList.remove("sort-desc");
  });
}

function getCellText(row, idx){
  const td=row.children[idx];
  if(!td) return "";
  return (td.textContent||"").trim();
}

function sortTable(table, colIdx, type, direction){
  const tbody=table.tBodies[0];
  const rows=Array.from(tbody.querySelectorAll("tr"));
  const dir=(direction==="desc")?-1:1;

  rows.sort((a,b)=>{
    const av=getCellText(a,colIdx);
    const bv=getCellText(b,colIdx);

    if(type==="num"||type==="size"){
      const an=parseNumberLike(av);
      const bn=parseNumberLike(bv);
      const a0=(an===null?-Infinity:an);
      const b0=(bn===null?-Infinity:bn);
      if(a0<b0) return -1*dir;
      if(a0>b0) return  1*dir;
      return 0;
    }
    const aL=av.toLowerCase();
    const bL=bv.toLowerCase();
    if(aL<bL) return -1*dir;
    if(aL>bL) return  1*dir;
    return 0;
  });

  rows.forEach(r=>tbody.appendChild(r));
}

function enableSorting(){
  document.querySelectorAll("table[data-filter-table='1']").forEach(table=>{
    const thead=table.tHead;
    if(!thead) return;
    const headerRow=thead.rows[0];
    if(!headerRow) return;
    Array.from(headerRow.cells).forEach((th, idx)=>{
      const type=th.getAttribute("data-sort")||"text";
      th.addEventListener("click", ()=>{
        const current=th.classList.contains("sort-asc")?"asc":
                      th.classList.contains("sort-desc")?"desc":"";
        const next=(current==="asc")?"desc":"asc";
        clearSortIndicators(table);
        th.classList.add(next==="asc"?"sort-asc":"sort-desc");
        sortTable(table, idx, type, next);
      });
    });
  });
}

document.addEventListener("DOMContentLoaded", enableSorting);
</script>

<script>showTab('buys');</script>
</body>
</html>
